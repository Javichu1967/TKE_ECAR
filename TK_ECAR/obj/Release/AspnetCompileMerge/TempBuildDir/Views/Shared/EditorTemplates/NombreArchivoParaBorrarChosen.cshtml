@using resourceView = TK_ECAR.Content.resources.TK_ECAR_Resource

@Html.Hidden(ViewData.TemplateInfo.FormattedModelValue.ToString())
<select id="miNombreArchivoParaBorrar" title="Seleccionar un empleado" search class="form-control">
    <option></option>
</select> 
<style type="text/css">
    #miNombreArchivoParaBorrar_chosen {
        width: 100% !important;
        display: block;
    }
</style>
 <script type="text/javascript">

     NombreArchivoParaBorrarChosen();

     function NombreArchivoParaBorrarChosen() {
         //var UrlBorrado = '@Html.Raw(@Url.Action("GetNombreArchivoParaBorrar", "BorrarImportacion", new { tipoBorrado = "tipodeborrado", empresa = "empresaborrar" }))';
         //UrlBorrado = UrlBorrado.replace("tipodeborrado", $("#TipoBorrado").val()).replace("empresaborrar", $("#IDEmpresa").val());
         var UrlBorrado = '@Html.Raw(@Url.Action("GetNombreArchivoParaBorrar", "BorrarImportacion", new { tipoBorrado = "tipodeborrado"}))';
         UrlBorrado = UrlBorrado.replace("tipodeborrado", $("#TipoBorrado").val());
         //$('#miNombreArchivoParaBorrar').prepend($('<option></option>').html('@resourceView.msgCargando'));
         $("#miNombreArchivoParaBorrar").ajaxChosen({
             type: 'GET',
             url: UrlBorrado,
             async: true,
             beforeSend: function (data, textStatus, jqXHR) {
                 $("#miNombreArchivoParaBorrar_chosen span").addClass('loading-Chosen');
             },
             complete: function (data, textStatus, jqXHR) {
                 $("#miNombreArchivoParaBorrar_chosen span").removeClass('loading-Chosen');
             },
             minTermLength: 0,
             dataType: 'json'
         }, function (data) {
             var terms = [];
             $.each(data, function (i, val) {
                 terms[i] = val;
             });
             return terms;
         },
            {
                //options
                disable_search_threshold: -1
            });
     }

     //$('#miNombreArchivoParaBorrar').on('change', function () {
     //    //alert(this.value); // or $(this).val()
     //    $('#NombreArchivoParaBorrar').val(this.value);
     //});

</script>